Жабка
=====

Just Another BookKeeping App
----------------------------

Еще одно бухгалтерское - для небольшой, личной бухгалтерии - приложение...

Таких создано десятки, если не сотни.

В чем _понт именно этого_ приложения?
=====================================

В том, что оно пытается сместить точку вашего внимания от малополезной медитации на _уже произведенными_ тратами - в момент размышлений _перед_ тем, как эту трату произвести.

Фактически это приложение по ведению бюджетов, причем в качестве бюджетной модели выбрана достаточно простая и известная концепция конвертов: все ваши деньги в приложении лежат не просто так, а распределены по конвертам (сразу забудем бухгалтерское словечко "счет" и не будем им пользоваться).

Каждый конверт для чего-то предназначен: для чего именно, выбираете вы сами, создавая столько конвертов, сколько вам нужно.  

Ваша задача - производить траты из нужного конверта в соответствии с его предназначением и стараться не превысить доступный вам остаток.

(Последнее - не превышать остаток - не обязательно, можно взять из конверта деньги и в минус, просто впоследствии этот минус желательно закрыть).

Какой остаток вам доступен в текущий момент в текущем конверте - и показывает данное приложение. Предполагается, что вы заглядываете в него _перед_ тем, как совершить трату. Сверяетесь со своей маленькой карманной _жабкой_, которая мягко и ненавязчиво пытается вас придушить.

Теперь подробнее.

Конверты.
=========

Конверты бывают разного типа.

Два основных типа: **расходный** и **накопительный**.

**Расходный конверт**
---------------------

предполагает, что вы сначала кладете в него деньги, а затем их расходуете. В этом случае жабка распределяет текущий остаток на нужное вам количество дней и высчитывает доступный лимит на день, а также экономию (хорошо) или перерасход (плохо) по сравнению с расчетным лимитом на текущую дату.

Если кто-то видел приложения **"Тяжеловато"** или **"Гречка"** - то очень похоже.

Накопительный конверт,
----------------------

соответственно, предназначен для того, чтобы, начав с нуля - к определенному сроку накопить необходимую сумму. В этом случае жабка также рассчитывает дневной лимит накопления, подневный план остатка и показывает пере- или недо- выполнение этого плана на текущую дату.

Чтобы упомянутые расчеты были возможны необходимо для конверта указать:

**Период**, 
------------

на который вам нужно распределить расход или план накопления: дату начала и дату окончания. Имеется в виду конкретный период (с такого-то числа такого-то месяца такого-то года по другое число), а не какие-то общие настройки периодичности вроде "ежемесячно" или "еженедельно".  

Заводите столько периодов, сколько вам нужно.

Ограничение: невозможно завести разные периоды с одной и той же начальной датой. Актуальным периодом на какую-либо дату считается такой, чья дата начала находится в прошлом относительно интересующей даты, но максимально близка к ней. _Срез последних_ начальных дат, иными словами.

**Целевая сумма**.
------------------

**Обязательна для накопительного** конверта (она, собственно, и есть та сумма, которую вы стремитесь накопить) и не обязательна (но желательна) для расходного.

Если задана - в общем списке конвертов вы увидите сумму недостатка - разницу между заданной суммой и текущим остатком в конверте, как для накопительных, так и для расходных конвертов.

Целевая сумма хранится с запоминанием истории: вы обязательно должны указать дату, начиная с которой эта сумма считается актуальной.

Еще раз, важно! Эта дата означает не тот момент, _к наступлению которого_ вы должны накопить указанную сумму, а тот момент, _в который вы решили_, что вам нужна эта сумма. Что-то вроде даты вступления вашего решения в силу.

Актуальность целевых сумм - это тоже _срез последних_.

**Округление.**
---------------

Используется при расчете лимитов и планов - расходный лимит всегда округляется _вниз_, а лимит накопления - _вверх_. Жабка старается придушивать вас незаметно и нежно - даже в мелочах.

Кроме очевидных значений округления: до 1, до 10 или например, до 50 - вы можете указать любое число, хоть 17,13 - жабка уважает ваши решения и ценит ваше чувство прекрасного.

История округлений не хранится - актуально всегда то, что указано в конверте.

Прочее.
-------

Конверты можно объединять в конверты-группы (и еще в группы, и еще в группы - пока список родительских конвертов не упрется в ограничение размеров экрана).  Например, все ваши виртуальные конверты-копилки и расходные конверты могут быть объединены в группу, которой в реальном мире соответствует реальный банковский счет. В этом случае можно сверять остаток на счете с остатком в конверте-группе (собственно, именно так поступать и рекомендуется).

Конверт-группа не является самостоятельным конвертом (нельзя класть и забирать деньги из него непосредственно), он только объединяет суммы вложенных в него конвертов.

(Кстати, при отображении в недостатка - в списке конвертов) конверт-группа отобразит либо свой собственный недостаток, либо итоговый недостаток по вложенным конвертам - в зависимости от того, который больше.

Зато настройки конвертов-групп и вложенных конвертов абсолютно независимы.

Карточка конверта состоит из трех панелей. При открытии отображается центральная панель, на которой собрана основная финансовая аналитика: текущий остаток, дневной лимит, итоги движений за день и т.п. - зависит от типа конверта.

Данные показываются на выбранную вами дату, эту дату можно смещать вперед или назад. Кроме того, можно смотреть эти же данные за период (по периодам также можно перемещаться прямо в карточке) или за все время.

Словом, основная панель карточки конверта одновременно является базовым мини-отчетом и основным инструментом психологического давления жабки на вас. Именно в эту панель предлагается всматриваться, как в бездну, принимая решение о трате из выбранного конверта.

Справа от основной панели находится панель настроек. Именно там доступ к типу конверта, периодам, целевым суммам и округлению. Еще там находится переключатель 

**Архивный**.
-------------

Архивные конверты по умолчанию не отображается в общем списке - так предполагается прятать ставшие ненужными конверты с глаз долой - вместо их удаления (потому что удалить конверт, по которому было хоть какое-то движение денег - уже нельзя).

Слева - выборка **операций** по конверту - приходы, расходы, вот это вот все, там же можно заводить новые операции или редактировать старые. Удобно.

Кстати, 

Операции.
=========

С их помощью фиксируется движение денег по конверту. Операции можно заводить из разных мест - из карточки конверта, из общего списка конвертов или же из отдельного списка операций.

Операций три вида: **Приход**, **Расход** и **Перевод**.

Приход и Расход
---------------

\- думаю, интуитивно понятно, что они делают. Указываете конверт и сумму, получается приход в конверт или расход из него.  

**Перевод** 
------------

описывает перекладывание денег из конверта в конверт и поэтому предполагается, что нужно указать оба (хотя и необязательно). Тот, из которого берутся деньги - указывается в качестве основного (он вверху и называется просто "конверт") а другой, в который деньги кладутся - назван заумным бухгалтерским словом "**корреспонденция**". Почему так, а не, например, "конверт-получатель"? Потому что корреспонденцию (второй конверт) _можно_ указывать также и для Расхода, и для Прихода (а в Приходе уже есть получатель - и это основной конверт). 

Возможность указывать второй конверт в любой операции - это такой реверанс в сторону обычной бухгалтерии, где это не просто обычное дело, а прямо-таки обязательное.

Практический смысл указания конверта-корреспонденции для операций Прихода и Расхода в том, что так можно дополнительно анализировать ваши поступления и выбытия. Подробнее об этом будет дальше, при рассмотрении **финансового** типа счета.

Кроме того, то позволяет оформлять как Приход и Расход обычные переводы из конверта в конверт - например потому, что Приходы _окрашиваются_ _в зелененький_, а Расходы - в _красненький._ А это может быть важно для вас как психо-эмоциональный маркер определенных операций. Жабка приветствует свободу творчества.

Кстати, верно и обратное - вы можете не использовать ни Приход, ни Расход, а оформлять любые поступления в виде Переводов (указывая в этом случае конверт-коореспонденцию в обязательном порядке и наслаждаясь отсутствием цветовой ряби в списках операций) - любой бухгалтер согласится, что это будет методологически правильно. Собственно, при таком подходе вам ничто не мешает начать вести самую обычную бухгалтерию - жабке не чужд профессиональный подход.  

У операции есть интересный признак:

Эскиз.
------

По мнению жабки, слово "эскиз" одновременно включает в себя понятия черновика и плана. Можете помечать операцию как "эскиз" - тогда она будет отображаться в списках как черновик (с зачеркиванием), но при этом в самых разных местах вы можете включать-отключать режим учета таких эскизов (в остатках и прочих итогах) - то есть, использовать несложный инструмент планирования.

Прочие типы конвертов.
======================

Финансовый.
-----------

Еще один реверанс в сторону обычной бухгалтерии. Являет собой что-то вроде аналога счетов из пассивной части баланса (бухгалтера поймут), а совсем точно - счетов финансового результата, прибылей и убытков.

Для возможности анализа прихода и расхода он и предназначен: конверты именно такого типа лучше всего указывать к качестве (необязательной) корреспонденции в операциях Приходов и Расходов. Подразумевается, что вы заведете разные конверты для разных видов доходов и расходов.

В этом случае в таких финансовых конвертах будут параллельно накапливаться свои "деньги". Деньги эти "ненастоящие", тратить их никуда нельзя - это просто суммы "для памяти".  

С практической точки зрения конверты такого типа просто инвертируют знак своего остатка. Причина в следующем: если оформлять операции прихода и расхода с корреспонденцией, вы обнаружите логичную, но не вполне очевидную вещь: конверты, корреспондирующие со конвертами-получателями в Приходе (то есть, учитывающие вроде бы _доход)_, внезапно окажутся с отрицательным остатком, а конверты, корреспондирующие с конвертами-отправителями в Расходах (учитывающие _убыток)_ - с положительным.  

С точки зрения бухгалтера это нормально - счет дохода это такой счет, _откуда_ к вам приходят деньги, а если деньги к вам приходят (увеличивают ваш остаток), то там, откуда они уходят - остаток уменьшается. И наоборот для счета убытков: если вы отдаете деньги, то там, куда вы их отдаете, их становится больше. В стандартной бухгалтерии от такой неинтуитивной ситуации избавляются, помещая такие счета _по другую сторону_, но это на самом деле еще более неинтуитивно.

Поэтому, для психического равновесия, в финансовых конвертах жабка просто меняет знак остатка на обратный.

Кроме того, прибыли и убытки - это такие финансовые показатели, которые интересны не в виде общей суммы, накопленной за все время, а в виде "потока" за определенный период. Поэтому финансовый конверт показывает не свой остаток, а свой _оборот -_ итоговую сумму приходов и расходов по нему за выбранный период. Ну, или если такой период не задан - то все-таки остаток (точнее, оборот, конечно же, но за все время, что в точности составляет остаток).

Товарный,
---------

он же **количественный**. Позволяет кроме сумм учитывать еще и количество какой-то материальной ценности. Поэтому не является ни расходным, ни накопительным, а вся финансовая аналитика по конверту этого типа вертится вокруг цены этой ценности. В списке конвертов и в карточке высчитывается средняя цена, а из карточки доступна полная история цен приобретения и выбытия.  

В быту подходит вовсе не для игры в кладовщика а, как ни странно, для учета валюты: если вы не используете активно валюту для повседневных расчетов и платежей, то она для вас не деньги, а скорее товар, который вы покупаете по одной цене, храните и накапливаете, а затем продаете по другой цене.

Учет долгов.
============

Почему-то в большинстве приложений для ведения домашней бухгалтерии слишком замороченный учет долговых операций.

Пользователя запутывают обилием операций, необходимых для учета долгов: типа "дать в долг", "отдать долг", взять в долг", "получить возврат долга" и т.п.  

На самом деле все _намного проще:_ вы либо получаете деньги, либо отдаете. Всё.

Поэтому самый очевидный способ - с помощью Перевода. В качестве основного конверта указываете тот, откуда расходуются деньги: один из своих конвертов, если даете деньги в долг (или возвращаете свой долг кому-то). Конверт заимодавца, если берете деньги в долг, или конверт должника,  если получаете возврат долга.

В качестве корреспонденции - тот конверт, который приходуется. Свой, если берете в долг или получаете возврат долга, и конверт чужой персоны, если даете в долг или возвращаете долг.

А еще лучше совсем просто: основной конверт того, кто отдает деньги, корреспонденция - того, кто получает.

Какой

### Тип счета

выбрать для конверта, учитывающего долги?

Если подходить формально, то для денег, данных в долг, - расходный. 

Деньги, отданные в долг, по всем бухгалтерским и юридическим канонам - ваши деньги, разлученные с вами лишь временно.

Так что, если должник аккуратный, да еще и  долг возвращается частями, - указывайте расходный, тогда вы будете примерно представлять, на какое время хватит денег в этом конверте.

С другой стороны, горькая истина в том, что отданными в долг деньгами вы не распоряжаетесь никак: все зависит от воли должника.

Так что, если вы настроены пессимистично - то можете использовать чисто психологический подход и сделать конверт финансовым (и не указывать период). Тогда его _положительный_ оборот-остаток отобразится с минусом и жабка будет вам честно демонстрировать убыток, _покрашенный красненьким_.

Для денег, взятых в долг вами самими - жабка рекомендует накопительный. В качестве конечной даты периода нужно будет указать дату возврата долга (или дату последнего платежа), а в качестве целевой суммы - ноль. Тогда вы будете видеть план накопления для возврата полной суммы к указанной дате.  

Важный нюанс: расчеты в таком режиме не будут точными для возвратов по кредитам с ежемесячными платежами. Ровно потому, что ежемесячные платежи исходят из распределения годовой выплаты на 12 равных периодов, а жабка распределяет суммы по дням. В итоге в короткие месяцы вы будете видеть план меньше, чем необходимо, а в длинный - больше.   

Чтобы не ошибиться, для подобных кредитов лучше всего завести отдельный конверт с целевой суммой, равной ежемесячному платежу по договору (графику платежей), накапливать деньги сначала на нем а потом производить с него погашение долга.  

Сверка с реальными счетами.
===========================

Поскольку конвертный подход к бюджету требует, чтобы в конвертах были остатки денег на определенные цели, но сами деньги физически хранятся в разных местах - в кошельке, на карте, на вкладе - может оказаться так, что остаток по конверту или конверту-группе никак не будет совпадать с реальными остатками.

В этом случае можно предложить такую методологию: 

вы заводите конверт-группу, в которую помещаете все нужные вам целевые конверты, с условным названием "Бюджет".

В этой же группе вы также заводите специальный конверт для выравнивания остатка. Что-то вроде "деньги на других счетах". 

Далее вы _вынимаете_ из него столько денег, сколько хранится, например, на карте - и кладете их в конверт "Карта" (который находится вне группы "Бюджет"). Поступаете так для всех физических мест хранения денег.

Таким образом, в конвертах, соответствующих физическим деньгам вы видите реальные остатки, а в группе Бюджет вы видите общий остаток ноль.

После этого, совершение любой операции с конвертом из группы "Бюджет", будет приводить к изменению нулевого остатка. Ваша задача - выровнять его снова до ноля, сделав перевод между одним из физических конвертов и конвертом-"выравнивателем".

Выглядит несколько заморочено, но на самом деле это проще чем кажется. Зато вы лишний раз пообщаетесь с жабкой.

Отчеты.
=======

В приложении есть отчеты.

Сервис.
=======

Пин-код
-------

и **блокировка интерфейса.** Не очень серьезная защита от подглядывания. Данные не шифруются. Если забыли пин-код: введите его десять раз неправильно и подождите три дня (можете перевести время на устройстве) - пин-код сбросится.

Будьте внимательны: режим отсчета трех дней до сброса никак не отображается, любая неверная попытка (кроме первых 10) начинает отсчет трех дней заново.

Отладка интерфейса.
-------------------

Приложение рассчитано на относительно большой экран. Попробуйте жмякнуть переключатель отладки, если элементы управления расползаются. Экспериментальная штука.

Выгрузка загрузка в CSV.
------------------------

Основной метод коммуникации с внешним миром - выгружайте CSV для какого-нибудь стороннего анализа данных.

Также может использоваться для бэкапа.

Также используется для свертки базы. Если указать дату начала выгрузки и отметить переключатель "Свернуть итоги" - то все данные до этой даты выгрузятся в свернутом виде - в виде операций, формирующих входящие остатки конвертов на эту дату.

Здесь вы сталкиваетесь с упоротыми ограничениями, обусловленными самой мобильной платформой 1С. Для записи выгруженного файла доступна только папка в пространстве самого приложения. Находится она в папке **/Android/data/ru.public\_domain.jabka/.** Не всякий файловый менеджер туда может добраться, так как папка системная.

Поэтому, при выгрузке файла можно выбирать **не сохранить** файл, **а открыть**: и использовать какое-нибудь стороннее приложение для работы с CSV, чтобы уже из него файл сохранить или отправить. Будьте внимательны: не все приложения с заявленной поддержкой CSV аккуратно следуют стандарт, например, могут не понять экранирование запятых внутри кавычек и сделать из вашего файла битый.

А вот загружать файлы можно уже из любого места.

Пересчет данных.
----------------

Если что-то пошло не так: долго и нудно пересохраняет все конверты и операции, для того чтобы правильно рассчитались всякие служебные данные, вроде отображения остатков и недостатков в списке конвертов.

Очистка базы.
-------------

Полностью удаляет все данные. Может понадобиться, например, при той же свертке: сначала выгужаете свернутые итоги, затем чистите базу, затем загружаете ранее выгруженные данные.
